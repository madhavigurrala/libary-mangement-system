<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Library Management System</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; margin:0; padding:20px; }
    h1, h2 { color:#333; }
    .container { max-width:1000px; margin:auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.1); }
    input, button { padding:8px; margin:6px 0; width:100%; }
    button { background:#4CAF50; color:#fff; border:none; cursor:pointer; border-radius:4px; }
    button:hover { background:#45a049; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { border:1px solid #ccc; padding:8px; text-align:left; }
    th { background:#eee; }
    .section { margin-top:30px; }
    .return-btn { background:#2196F3; }
  </style>
</head>
<body>

<div class="container">
  <h1>Library Management System</h1>

  <!-- Add Book -->
  <div class="section">
    <h2>Add Book</h2>
    <input id="title" placeholder="Book Name">
    <input id="author" placeholder="Author">
    <input id="qty" type="number" placeholder="Quantity">
    <button onclick="addBook()">Add Book</button>
  </div>

  <!-- Book List -->
  <div class="section">
    <h2>Available Books</h2>
    <table>
      <thead>
        <tr><th>Book Name</th><th>Author</th><th>Quantity</th></tr>
      </thead>
      <tbody id="bookTable"></tbody>
    </table>
  </div>

  <!-- Issue Book -->
  <div class="section">
    <h2>Issue Book</h2>
    <input id="student" placeholder="Student Name">
    <input id="bookName" placeholder="Book Name">
    <input id="returnDate" type="date">
    <button onclick="issueBook()">Issue Book</button>
  </div>

  <!-- Issued List -->
  <div class="section">
    <h2>Issued Books</h2>
    <table>
      <thead>
        <tr><th>Student</th><th>Book</th><th>Issue Date</th><th>Return Date</th><th>Action</th></tr>
      </thead>
      <tbody id="issueTable"></tbody>
    </table>
  </div>
</div>

<script>
  let books = [];
  let issues = [];

  function addBook() {
    const title = document.getElementById('title').value.trim();
    const author = document.getElementById('author').value.trim();
    const qty = parseInt(document.getElementById('qty').value);

    if (!title || !author || !qty) {
      alert('Please fill all book details');
      return;
    }

    books.push({ title, author, qty });
    displayBooks();

    document.getElementById('title').value = '';
    document.getElementById('author').value = '';
    document.getElementById('qty').value = '';
  }

  function displayBooks() {
    const table = document.getElementById('bookTable');
    table.innerHTML = '';
    books.forEach(b => {
      table.innerHTML += `<tr><td>${b.title}</td><td>${b.author}</td><td>${b.qty}</td></tr>`;
    });
  }

  function issueBook() {
    const student = document.getElementById('student').value.trim();
    const book = document.getElementById('bookName').value.trim();
    const returnDate = document.getElementById('returnDate').value;
    const issueDate = new Date().toLocaleDateString();

    if (!student || !book || !returnDate) {
      alert('Please fill all issue details');
      return;
    }

    issues.push({ student, book, issueDate, returnDate });
    displayIssues();

    document.getElementById('student').value = '';
    document.getElementById('bookName').value = '';
    document.getElementById('returnDate').value = '';
  }

  function displayIssues() {
    const table = document.getElementById('issueTable');
    table.innerHTML = '';
    issues.forEach((i, index) => {
      table.innerHTML += `<tr>
        <td>${i.student}</td>
        <td>${i.book}</td>
        <td>${i.issueDate}</td>
        <td>${i.returnDate}</td>
        <td><button class="return-btn" onclick="returnBook(${index})">Return</button></td>
      </tr>`;
    });
  }

  function returnBook(index) {
    issues.splice(index, 1);
    displayIssues();
    alert('Book Returned Successfully');
  }
</script>

</body>
</html>
